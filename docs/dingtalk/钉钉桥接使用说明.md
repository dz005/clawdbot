# 钉钉桥接使用说明

## 功能概述

Clawdbot 钉钉渠道支持通过 Stream 模式接收和发送消息，无需公网 IP。

## 支持的消息类型

### 接收消息
- ✅ 文本消息
- ✅ 图片消息（自动下载并分析）
- ✅ 文件消息（自动下载并处理）
- ✅ 语音消息（使用语音识别文本）
- ✅ 视频消息

### 发送消息
- ✅ 文本消息
- ✅ Markdown 消息
- ✅ 图片消息
- ✅ 文件消息
- ✅ 语音消息
- ✅ 视频消息

## 配置方法

1. 在钉钉开放平台创建机器人应用
2. 获取 `clientId`、`clientSecret` 和 `robotCode`
3. 配置到 clawdbot：

```bash
clawdbot config set channels.dingtalk.clientId "your-client-id"
clawdbot config set channels.dingtalk.clientSecret "your-client-secret"
clawdbot config set channels.dingtalk.robotCode "your-robot-code"
```

4. 启动 gateway：

```bash
clawdbot gateway run
```

## 使用方式

### 私聊
直接给机器人发送消息即可。

### 群聊
在群里 @机器人 发送消息。

## 技术特点

- 使用 Stream 模式，无需公网 IP
- 支持私聊和群聊
- 自动下载和处理媒体文件
- 支持语音识别
- Markdown 格式回复

## 注意事项

1. 机器人需要在钉钉开放平台配置 Stream 推送
2. 群聊中需要 @机器人才会回复
3. 媒体文件会自动下载到临时目录
4. 支持会话历史记录

---

更多信息请访问：https://github.com/clawdbot/clawdbot
